**缓存雪崩**是指缓存在短时间内大面积失效，所以，后面的请求会落到数据库上面，造成数据库承受大量请求，进而崩掉。
#### 解决方案：
1. 缓存数据的过期时间设置随机，防止同一时间大量数据过期现象发生。
2. 给每个缓存数据增加相应的缓存标记，记录缓存是否失效，如果缓存标记失效，则更新数据缓存。
3. 缓存预热
4. 互斥锁    

**缓存穿透**是指缓存和数据库中都没有的数据，导致所有的请求导致所有的请求都落到数据库上，造成数据库短时间内承受大量请求而崩掉。
#### 解决方案：
1. 接口层加校验，如用户鉴权校验，id做基础校验
2. 从缓存取不到数据，在数据库中也取不到，这时可以将key-value对写为key-null,缓存有效时间可以设置短点，如30秒（设置太长会导致正常情况也没法用）。这样可以防止攻击用户反复用同一个id暴力攻击
3. 采用布隆过滤器，将所有可能存在的数据哈希到一个足够大的bitmap中，一个一定不存在的数据会被这个bitmap拦截掉从而避免了对底层存储系统的查询压力。

**缓存击穿**是指缓存中没有但数据库中有的数据（一般是缓存时间到期），这时由于并发用于特别多，同时读取缓存没有读到数据，有同时去数据库去取数据，引起数据库压力瞬间增大，造成过大压力。和缓存雪崩不同的是，缓存击穿智并发查询同一条数据，缓存雪崩是不同的数据都过期了，很多数据都查不到从而查数据库。
#### 解决方案
1. 设置热点数据永远不过期
2. 加互斥锁
